---
title: Release notes of the 3.4.1 version of `TFEL`, `MFront` and `MTest`
author: Thomas Helfer
date: 2020
lang: en-EN
numbersections: true
documentclass: article
from: markdown+tex_math_single_backslash
geometry:
  - margin=2cm
papersize: a4
link-citations: true
colorlinks: true
figPrefixTemplate: "$$i$$"
tabPrefixTemplate: "$$i$$"
secPrefixTemplate: "$$i$$"
eqnPrefixTemplate: "($$i$$)"
---

The page describes the new functionalities of Version 3.4.1 of the
`TFEL` project.

# Overview

This version notably adds:

- Support for `Cast3M 21`.
- An interface dedicated to the [`AMITEX_FFTP`
  solver](http://www.maisondelasimulation.fr/projects/amitex/general/_build/html/map-site.html).

# New features of `MFront`

## Support for `Cast3M 21`

While the `umat` interface of this solver is unchanged, two additional
material properties are now required to solve mechanical problem where
thermal exansion are taken into account:

- `TREF`: the reference temperature for the computation of the thermal
  expansion.
- `TALP`: the reference temperature for the thermal expansion
  coefficient.

Those material properties are automatically added by the `castem21`
interface in the list of the material properties required by the
behaviour.

The `castem` interface is left unchanged and shall be used for versions
prior to Version `21`.

## The `amitex` interface

The `amitex` interface is mostly an alias for the `castem` interface,
i.e. the interface for the `Cast3M` interface prior to Version `21` and
also generates an input file template which is meant to be copy-pasted
into the `material.xml` file of the user.

Here is an example of such a template:

~~~~{.xml}
<!--
    Simple template for use in AMITEX_FFTP.
    
    You may copy-paste those lines in your material.xml file
    and adjust:

- the material number I,
- the path to the library (currently UmatBehaviour),
- the coefficients and initial internal variables values
which are currently replaced by three dots.
-->

<Material numM="I" Lib="UmatBehaviour" Law="umatplasticity">
  <!-- material property YoungModulus -->
  <Coeff Index = "1" Type = "Constant" Value = "..." />
  <!-- material property PoissonRatio -->
  <Coeff Index = "2" Type = "Constant" Value = "..." />
  <!-- material property MassDensity -->
  <Coeff Index = "3" Type = "Constant" Value = "..." />
  <!-- material property ThermalExpansion -->
  <Coeff Index = "4" Type = "Constant" Value = "..." />
  <!-- material property H -->
  <Coeff Index = "5" Type = "Constant" Value = "..." />
  <!-- material property s0 -->
  <Coeff Index = "6" Type = "Constant" Value = "..." />
  <!-- internal state variable ElasticStrain -->
  <IntVar Index = "1" Type = "Constant" Value = "..." />
  <IntVar Index = "2" Type = "Constant" Value = "..." />
  <IntVar Index = "3" Type = "Constant" Value = "..." />
  <IntVar Index = "4" Type = "Constant" Value = "..." />
  <IntVar Index = "5" Type = "Constant" Value = "..." />
  <IntVar Index = "6" Type = "Constant" Value = "..." />
  <!-- internal state variable EquivalentPlasticStrain -->
  <IntVar Index = "7" Type = "Constant" Value = "..." />
</Material>
~~~~

# Tickets fixed

## Ticket #263: `GenericBehaviourInterface`: `rotateArrayOfTangentOperatorBlocks` is not correctly implemented

For more details, see: <https://sourceforge.net/p/tfel/tickets/263/>

## Ticket #262: Missing headers in packages generated by `automake`

For more details, see: <https://sourceforge.net/p/tfel/tickets/262/>

## Ticket #258: Missing `ndarray.cxx` source

For more details, see: <https://sourceforge.net/p/tfel/tickets/258/>

## Ticket #240: Ability to export the thermal expansion coefficients as material properties with the ‘cyrano’ interface

When the thermal expansion is handled by a behaviour, the thermal
expansion coefficients are now automatically exported as material
properties when compiling the behaviour behaviour with the `Cast3M` and
`Cyrano` interfaces.

The names of the functions associated with those thermal expansion
coefficients can be retrieved by:

- the `getUMATLinearThermalExpansionCoefficientsEntryPoints` method of
  the `ExternalLibraryManager` class.
- the `linear_thermal_expansion_coefficients_epts` data member of the
  `ExternalBehaviourData` class.

For more details, see: <https://sourceforge.net/p/tfel/tickets/240/>