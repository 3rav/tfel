---
title: mfront-query
author: Thomas Helfer
date: 15/03/2022
lang: en-EN
link-citations: true
colorlinks: true
geometry:
  - margin=2cm
papersize: a4
figPrefixTemplate: "$$i$$"
tblPrefixTemplate: "$$i$$"
secPrefixTemplate: "$$i$$"
eqnPrefixTemplate: "($$i$$)"
---

# General queries

## List of dependencies of an `MFront` file

The `--list-dependencies` query lists all the dependencies of an
`MFront` file.

If a dependency is encoded in a `madnex` file, an internal representation of
the path to this dependency is returned (see example below).

### Example of usage

~~~~{.bash}
$ mfront-query --list-dependencies --search-path=generate   \
               --madnex-search-path=MaterialProperties.mdnx \
               Test.mfront 
madnex:generate/MaterialProperties.mdnx:MaterialProperty::YoungModulusTest
~~~~

## Querying information about parameters in `mfront-query`

### List of parameters

The list of parameters in an `mfront` file can be retrieved as follows:

~~~~{.bash}
$ mfront-query --parameters Rousselier.mfront
...
- safety_factor_for_the_upper_bound_of_the_porosity: a safety factor for the porosity upper bound
- safety_factor_for_the_upper_bound_of_the_porosity_for_fracture_detection: a safety factor for the porosity upper bound
- staggered_scheme_porosity_criterion: stopping criterion value of the staggered scheme
- staggered_scheme_maximum_number_of_iterations: maximum number of iterations of the staggered scheme allowed
- minimal_time_step_scaling_factor: minimal value for the time step scaling factor
- maximal_time_step_scaling_factor: maximal value for the time step scaling factor
- numerical_jacobian_epsilon: perturbation value used to compute a numerical approximation of the jacobian
- iterMax: maximum number of iterations allowed
~~~~

### Querying the default value of a parameter

The default value of a parameter can be retrieved using the
`--parameter-default-value` query, as follows:

~~~~{.bash}
$ mfront-query --parameter-default-value=epsilon Rousselier.mfront 
1.e-14
$ mfront-query --parameter-default-value=iterMax Rousselier.mfront
100
~~~~

### Querying the type of a parameter

The type of a parameter can be retrieved through the `--parameter-type`
query, as follows:

~~~~{.bash}
$ mfront-query --parameter-type=iterMax Rousselier.mfront
ushort
~~~~

Here `ushort` means that the `iterMax` parameter is stored as unsigned
short integer.

## Querying the name of the parameters' file through `mfront-query`

The name of the file which can be used to modify the parameters' values
(see Section @sec:mfront:parameters:parameters_file) can be retrieved
with the `--parameters-file` query:

~~~~{.bash}
$ mfront-query --parameters-file Rousselier.mfront 
Rousseliertest-parameters.txt
~~~~

## The `--generated-sources` query

The `--generated-sources` query can now have an option:

- `sorted-by-libraries` (default): which returns the sources to be
  generated associated with each library
- `unsorted`: which returns all the sources to be generated

This option may be used in conjunction with the `--nomelt` option.

## Retrieve the sources associated with specific targets

`mfront-query` has two queries associated to specific targets:

- `--specific-target-generated-sources` which allows to retrieve the
  sources generated by a specific target
- `--all-specific-targets-generated-source`, which displays all the
  sources associated with specific targets

By default, all sources associated with libraries dependencies of the
specific targets are also displayed, unless the `--nomelt` command line
argument is used.

## The `--list-implementation-paths` query

The `--list-implementation-paths` query returns explicit paths to
material knowledge in a `madnex` file. This query has two options:

- `sorted-by-files` (default): the implementations paths are preceded by
  the `madnex` file name.
- `unsorted`: the implementations paths are not preceded by the `madnex`
  file name.

~~~~{.bash}
$ mfront-query --list-implementation-paths=unsorted --all-behaviours Plasticity.mdnx
madnex:Plasticity.mdnx:behaviour::Plasticity
~~~~

# Behaviour queries

## List of initialize functions

The list of initialize functions defined by a behaviour can be retrieved
using the `--initialize functions` query, as follows:

~~~~{.bash}
 mfront-query --initialize-functions Plasticity.mfront 
- ElasticStrainFromInitialStress: no description available.
~~~~

## List of initialize function variables

The list of initialize function' variables defined by a behaviour can be
retrieved using the `--initialize function-variables` query.

## List of post-processings

The list of post-processings defined by a behaviour can be retrieved
using the `--post-processings` query, as follows:

~~~~{.bash}
$ mfront-query --post-processings Elasticity.mfront 
- PrincipalStrain: compute the principal strain. Modified post-processing variables are:
  - PrincipalStrain (εᵖ)
~~~~

## List of post-processing variables

The list of post-processing' variables defined by a behaviour can be
retrieved using the `--post-processing-variables` query, as follows:

~~~~{.bash}
$ mfront-query --post-processing-variables Elasticity.mfront 
- PrincipalStrain (εᵖ)
~~~~

## List of `MTest` tests associated with a behaviour in a `madnex` file

The `--list-behaviour-mtest-tests` command line argument can be used to
display the list of tests associated with a behaviour in a `madnex`
file.

Optionnally, this command line argument accept the options
`sorted-by-behaviours` or `unsorted` (see the examples below).

### Examples of usage

~~~~{.cxx}
$ mfront-query --list-behaviour-mtest-tests --test=".+Tensile.+" Plasticity.mdnx
- tests associated with behaviour Plasticity
    - UniaxialTensileTest
~~~~

~~~~{.cxx}
$ mfront-query --list-behaviour-mtest-tests=unsorted --test=".+Tensile.+" Plasticity.mdnx
UniaxialTensileTest
~~~~

## List of `mfm-test-generator` tests associated with a behaviour in a `madnex` file

The `--list-behaviour-mfm-test-generator-tests` command line argument
can be used to display the list of tests associated with a behaviour in
a `madnex` file.

Optionnally, this command line argument accept the options
`sorted-by-behaviours` or `unsorted` (see the examples below).

### Examples of usage

~~~~{.cxx}
$ mfront-query --list-behaviour-mfm-test-generator-tests --test=".+Tensile.+" Plasticity.mdnx
~~~~

~~~~{.cxx}
$ mfront-query --list-behaviour-mfm-test-generator-tests=unsorted --test=".+Tensile.+" Plasticity.mdnx
~~~~

